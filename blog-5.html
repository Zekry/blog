<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />


  <title>Toying with Textacy</title>


  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="referrer" content="origin" />
  <meta name="generator" content="Pelican" />
  <link href="https://zekry.github.io/blog/" rel="canonical" />

  <!-- Feed -->
        <link href="https://zekry.github.io/blog/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Zekry's Blog Full Atom Feed" />
          <link href="https://zekry.github.io/blog/feeds/{slug}.atom.xml" type="application/atom+xml" rel="alternate" title="Zekry's Blog Categories Atom Feed" />

  <link href="https://zekry.github.io/blog/theme/css/style.css" type="text/css" rel="stylesheet" />

  <!-- Code highlight color scheme -->
      <link href="https://zekry.github.io/blog/theme/css/code_blocks/github.css" rel="stylesheet">


  <!-- Custom fonts -->
  <link href='https://fonts.googleapis.com/css?family=Montserrat:400,300' rel='stylesheet' type='text/css' />
  <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet" type="text/css" />

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->


  <link href="https://zekry.github.io/blog/blog-5.html" rel="canonical" />

    <meta name="description" content="Textacy is a set of tools that is built on the spaCy package. Its tagline tells you exactly what it does: NLP, before and after spaCy....">

    <meta name="author" content="Zekry">

    <meta name="tags" content="python">
    <meta name="tags" content="NLP">




<!-- Open Graph -->
<meta property="og:site_name" content="Zekry's Blog"/>
<meta property="og:title" content="Toying with Textacy"/>
<meta property="og:description" content="Textacy is a set of tools that is built on the spaCy package. Its tagline tells you exactly what it does: NLP, before and after spaCy...."/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="https://zekry.github.io/blog/blog-5.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2019-08-07 16:00:00-04:00"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="https://zekry.github.io/blog/author/zekry.html">
<meta property="article:section" content="misc"/>
<meta property="article:tag" content="python"/>
<meta property="article:tag" content="NLP"/>
<meta property="og:image" content="https://zekry.github.io/blog/theme/images/post-bg.jpg">

<!-- Twitter Card -->

<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "name": "Toying with Textacy",
  "headline": "Toying with Textacy",
  "datePublished": "2019-08-07 16:00:00-04:00",
  "dateModified": "",
  "author": {
    "@type": "Person",
    "name": "Zekry",
    "url": "https://zekry.github.io/blog/author/zekry.html"
  },
  "image": "https://zekry.github.io/blog/theme/images/post-bg.jpg",
  "url": "https://zekry.github.io/blog/blog-5.html",
  "description": "Textacy is a set of tools that is built on the spaCy package. Its tagline tells you exactly what it does: NLP, before and after spaCy...."
}
</script>
</head>
<!-- TODO : Body class -->
<body class="home-template">

<nav id="menu">
  <a class="close-button">Close</a>
  <div class="nav-wrapper">
    <p class="nav-label">Menu</p>
    <ul>


    </ul>
  </div>
</nav>
    <!-- Progressbar -->
    <div class="progress-container">
        <span class="progress-bar"></span>
    </div>

    <!-- Page Header -->
    <!-- Set your background image for this header on the line below. -->
    <header id="post-header" class="has-cover">
      <div class="inner">
        <nav id="navigation">
            <span id="home-button" class="nav-button">
                <a class="home-button" href="https://zekry.github.io/blog/" title="Home"><i class="ic ic-arrow-left"></i> Home</a>
            </span>
          <span id="menu-button" class="nav-button">
            <a class="menu-button"><i class="ic ic-menu"></i> Menu</a>
          </span>
        </nav>
        <h1 class="post-title">Toying with Textacy</h1>
        <!-- TODO : Proper class for headline -->
        <span class="post-meta">
                <a href="https://zekry.github.io/blog/author/zekry.html">Zekry</a>
            | <time datetime="Wed 07 August 2019">Wed 07 August 2019</time>
        </span>
        <!-- TODO : Modified check -->
            <div class="post-cover cover" style="background-color: indigo">
      </div>
    </header>

  <section id="wrapper">
    <a class="hidden-close"></a>

    <!-- Post content -->
    <main class="content" role="main">
        <article class="post">
        <div class="inner">
            <section class="post-content">
                <p>Textacy is a set of tools that is built on the spaCy package. Its tagline tells you exactly what it does: NLP, before and after spaCy. It implements tools that use spaCy under the hood, ranging from data-streaming utilities for production use to text-clustering functions. Some of the features mentioned in different sourses include:</p>
<p>•   Stream text, json, csv, and spaCy binary data to and from disk.</p>
<p>•   Explore a variety of included datasets, with both text data and metadata from Congressional speeches to historical literature to Reddit comments .</p>
<p>•   Access and filter basic linguistic elements, such as words and ngrams, noun chunks and sentences.</p>
<p>•   Extract named entities, acronyms and their definitions, direct quotations, key terms, and more from documents.</p>
<p>•   Transform documents and corpora into vectorized and semantic network representations.</p>
<p>•   Convenient entry points to working with one or many documents processed by spaCy, with functionality added via custom extensions.</p>
<p>•   Cleaning, normalization, and exploration of raw text — before processing.</p>
<p>•   Tokenization and vectorization of documents, with functionality for training, interpreting, and visualizing topic models.</p>
<p>...</p>
<p>You can install textacy via pip or conda. On conda, it's available on the conda-forge channel instead of the main conda channel. We've done this by adding a -c flag and the channel name after that:</p>
<div class="highlight"><pre><span></span><span class="c1">#conda install -c conda-forge textacy</span>
</pre></div>


<p>Next we will import the package and explore some of its functinality using one of the available datasets included with the package to iterate through texts and manipulate corpora.</p>
<p><img alt="" src="images/cpu.png"></p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">textacy</span>
<span class="kn">import</span> <span class="nn">textacy.datasets</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="n">oxford</span> <span class="o">=</span> <span class="n">textacy</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">OxfordTextArchive</span><span class="p">()</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="n">oxford</span><span class="o">.</span><span class="n">download</span><span class="p">()</span>
</pre></div>


<p>First, let's look at the information of the dataset and its file. Then we will extract and use some of the data and texts.</p>
<div class="highlight"><pre><span></span><span class="n">oxford</span><span class="o">.</span><span class="n">info</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="err">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;oxford_text_archive&#39;</span><span class="p">,</span>
 <span class="s1">&#39;site_url&#39;</span><span class="p">:</span> <span class="s1">&#39;https://ota.ox.ac.uk/&#39;</span><span class="p">,</span>
 <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Collection of ~2.7k Creative Commons texts from the Oxford Text Archive, containing primarily English-language 16th-20th century literature and history.&#39;</span><span class="err">}</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="n">oxford</span><span class="o">.</span><span class="vm">__dict__</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="err">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;oxford_text_archive&#39;</span><span class="p">,</span>
 <span class="s1">&#39;meta&#39;</span><span class="p">:</span> <span class="err">{</span><span class="s1">&#39;site_url&#39;</span><span class="p">:</span> <span class="s1">&#39;https://ota.ox.ac.uk/&#39;</span><span class="p">,</span>
  <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Collection of ~2.7k Creative Commons texts from the Oxford Text Archive, containing primarily English-language 16th-20th century literature and history.&#39;</span><span class="err">}</span><span class="p">,</span>
 <span class="s1">&#39;data_dir&#39;</span><span class="p">:</span> <span class="s1">&#39;/anaconda3/lib/python3.6/site-packages/textacy/data/oxford_text_archive&#39;</span><span class="p">,</span>
 <span class="s1">&#39;_text_dirpath&#39;</span><span class="p">:</span> <span class="s1">&#39;/anaconda3/lib/python3.6/site-packages/textacy/data/oxford_text_archive/master/text&#39;</span><span class="p">,</span>
 <span class="s1">&#39;_metadata_filepath&#39;</span><span class="p">:</span> <span class="s1">&#39;/anaconda3/lib/python3.6/site-packages/textacy/data/oxford_text_archive/master/metadata.tsv&#39;</span><span class="p">,</span>
 <span class="s1">&#39;_metadata&#39;</span><span class="p">:</span> <span class="k">None</span><span class="err">}</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="nb">list</span><span class="p">(</span><span class="n">oxford</span><span class="o">.</span><span class="n">authors</span><span class="p">)[:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="p">[</span><span class="s1">&#39;Arnaud de Ronsil, Georges&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Melville, Herman&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Pringle, John, Sir&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Pollard, Robert&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Webb, William, mate of the Doddington East Indiaman&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Late Member of the Continental Congress&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Wigstead, Henry&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Dennis, John&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Orczy, Baroness Emmuska&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Pinto, Isaac de&#39;</span><span class="p">]</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">text</span><span class="p">,</span> <span class="n">meta</span> <span class="ow">in</span> <span class="n">oxford</span><span class="o">.</span><span class="n">records</span><span class="p">(</span><span class="n">date_range</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;1900-01-01&quot;</span><span class="p">,</span> <span class="s2">&quot;1990-01-01&quot;</span><span class="p">),</span> <span class="n">limit</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">meta</span><span class="p">[</span><span class="s2">&quot;year&quot;</span><span class="p">],</span> <span class="n">meta</span><span class="p">[</span><span class="s2">&quot;author&quot;</span><span class="p">],</span> <span class="n">meta</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">])</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="mi">1909</span> <span class="p">(</span><span class="s1">&#39;Kipling, Rudyard&#39;</span><span class="p">,)</span> <span class="n">Actions</span> <span class="k">and</span> <span class="n">Reactions</span>
<span class="mi">1906</span> <span class="p">(</span><span class="s1">&#39;Potter, Beatrix&#39;</span><span class="p">,)</span> <span class="n">The</span> <span class="n">Tale</span> <span class="k">of</span> <span class="n">Samuel</span> <span class="n">Whiskers</span>
<span class="mi">1939</span> <span class="p">(</span><span class="s1">&#39;Yeats, W.B. (William Butler)&#39;</span><span class="p">,)</span> <span class="n">The</span> <span class="n">Collected</span> <span class="n">Poems</span>
<span class="mi">1920</span> <span class="p">(</span><span class="s1">&#39;Owen, Wilfred&#39;</span><span class="p">,)</span> <span class="n">Collected</span> <span class="n">Poems</span>
<span class="mi">1916</span> <span class="p">(</span><span class="s1">&#39;James, Henry&#39;</span><span class="p">,)</span> <span class="n">Essays</span> <span class="k">on</span> <span class="n">literature</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">text</span><span class="p">,</span> <span class="n">meta</span> <span class="ow">in</span> <span class="n">oxford</span><span class="o">.</span><span class="n">records</span><span class="p">(</span><span class="n">author</span><span class="o">=</span><span class="s2">&quot;Wordsworth, William&quot;</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;{}</span><span class="se">\n</span><span class="s2">{}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">meta</span><span class="p">[</span><span class="s2">&quot;title&quot;</span><span class="p">],</span> <span class="n">text</span><span class="p">[:</span><span class="mi">300</span><span class="p">]))</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="n">The</span> <span class="n">excursion</span>
<span class="n">The</span> <span class="n">Excursion</span>
<span class="k">by</span>
<span class="n">William</span> <span class="n">Wordsworth</span>
<span class="n">Something</span> <span class="n">must</span> <span class="n">now</span> <span class="n">be</span> <span class="n">said</span> <span class="k">of</span> <span class="n">this</span> <span class="n">poem</span><span class="p">,</span> <span class="n">but</span> <span class="n">chiefly</span><span class="p">,</span> <span class="k">as</span> <span class="n">has</span> <span class="n">been</span> <span class="n">done</span> <span class="n">through</span> <span class="n">the</span> <span class="n">whole</span> <span class="k">of</span> <span class="n">these</span> <span class="n">notes</span><span class="p">,</span> <span class="k">with</span> <span class="n">reference</span> <span class="k">to</span> <span class="n">my</span> <span class="n">personal</span> <span class="n">friends</span><span class="p">,</span> <span class="k">and</span> <span class="n">especially</span> <span class="k">to</span> <span class="n">her</span> <span class="n">who</span> <span class="n">has</span> <span class="n">perseveringly</span> <span class="n">taken</span> <span class="n">them</span> <span class="n">down</span> <span class="k">from</span> <span class="n">my</span> <span class="n">dictation</span><span class="p">.</span> <span class="n">Towards</span> <span class="n">the</span> <span class="k">close</span> <span class="k">of</span> <span class="n">the</span> <span class="k">first</span> <span class="n">book</span> <span class="n">stand</span>
</pre></div>


<p>Now we are going to use another way to extract different literary works, create corpus of texts filtering by author. There is also options to filter based on date range and size of text.</p>
<div class="highlight"><pre><span></span><span class="n">corpus</span> <span class="o">=</span> <span class="n">textacy</span><span class="o">.</span><span class="n">Corpus</span><span class="p">(</span><span class="s1">&#39;en&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">oxford</span><span class="o">.</span><span class="n">records</span><span class="p">(</span><span class="n">author</span><span class="o">=</span> <span class="s2">&quot;Wordsworth, William&quot;</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="bp">None</span><span class="p">))</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="n">corpus</span><span class="p">[</span><span class="mi">1</span><span class="p">][:</span><span class="mi">100</span><span class="p">]</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="n">The</span> <span class="n">Prelude</span>
<span class="k">or</span><span class="p">,</span> <span class="n">Growth</span> <span class="k">of</span> <span class="n">a</span> <span class="n">Poet</span><span class="err">&#39;</span><span class="n">s</span> <span class="n">Mind</span><span class="p">;</span>
<span class="n">an</span> <span class="n">Autobiographical</span> <span class="n">Poem</span>
<span class="k">by</span>
<span class="n">William</span> <span class="n">Wordsworth</span>
<span class="n">Complete</span> <span class="n">Poetical</span> <span class="n">Works</span><span class="p">.</span> <span class="mi">1888</span><span class="p">.</span>
<span class="n">ADVERTISEMENT</span>
<span class="n">The</span> <span class="n">following</span> <span class="n">Poem</span> <span class="n">was</span> <span class="n">commenced</span> <span class="k">in</span> <span class="n">the</span> <span class="n">beginning</span> <span class="k">of</span> <span class="n">the</span> <span class="k">year</span> <span class="mi">1799</span><span class="p">,</span> <span class="k">and</span> <span class="n">completed</span> <span class="k">in</span> <span class="n">the</span> <span class="n">summer</span> <span class="k">of</span> <span class="mi">1805</span><span class="p">.</span>
<span class="n">The</span> <span class="n">design</span> <span class="k">and</span> <span class="n">occasion</span> <span class="k">of</span> <span class="n">the</span> <span class="k">work</span> <span class="k">are</span> <span class="n">described</span> <span class="k">by</span> <span class="n">the</span> <span class="n">Author</span> <span class="k">in</span> <span class="n">his</span> <span class="n">Preface</span> <span class="k">to</span> <span class="n">the</span> <span class="n">EXCURSION</span><span class="p">,</span> <span class="k">first</span> <span class="n">published</span> <span class="k">in</span> <span class="mi">1814</span><span class="p">,</span> <span class="k">where</span> <span class="n">he</span> <span class="n">thus</span> <span class="n">speaks</span><span class="p">:</span><span class="err">—</span>
<span class="err">“</span><span class="n">Several</span> <span class="n">years</span> <span class="n">ago</span><span class="p">,</span> <span class="k">when</span> <span class="n">the</span> <span class="n">Author</span> <span class="n">retired</span> <span class="k">to</span> <span class="n">his</span> <span class="n">native</span> <span class="n">mountains</span> <span class="k">with</span> <span class="n">the</span> <span class="n">hope</span> <span class="k">of</span> <span class="n">being</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="n">corpus2</span> <span class="o">=</span> <span class="n">textacy</span><span class="o">.</span><span class="n">Corpus</span><span class="p">(</span><span class="s1">&#39;en&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">oxford</span><span class="o">.</span><span class="n">records</span><span class="p">(</span><span class="n">author</span><span class="o">=</span> <span class="s2">&quot;Kipling, Rudyard&quot;</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="n">corpus2</span><span class="p">[</span><span class="mi">0</span><span class="p">][:</span><span class="mi">50</span><span class="p">]</span>
</pre></div>


<div class="highlight"><pre><span></span>‘<span class="nv">Let</span> <span class="nv">us</span> <span class="nv">now</span> <span class="nv">praise</span> <span class="nv">famous</span> <span class="nv">men</span>’—
<span class="nv">Men</span> <span class="nv">of</span> <span class="nv">little</span> <span class="nv">showing</span>—
<span class="k">For</span> <span class="nv">their</span> <span class="nv">work</span> <span class="nv">continueth</span>,
<span class="nv">And</span> <span class="nv">their</span> <span class="nv">work</span> <span class="nv">continueth</span>,
<span class="nv">Greater</span> <span class="nv">than</span> <span class="nv">their</span> <span class="nv">knowing</span>.
<span class="nv">Western</span> <span class="nv">wind</span> <span class="nv">and</span> <span class="nv">open</span> <span class="nv">surge</span>
<span class="nv">Tore</span> <span class="nv">us</span> <span class="nv">from</span> <span class="nv">our</span> <span class="nv">mothers</span><span class="c1">;</span>
<span class="nv">Flung</span> <span class="nv">us</span> <span class="nv">on</span> <span class="nv">a</span> <span class="nv">naked</span> <span class="nv">shore</span>
</pre></div>


<p><img alt="" src="./images/words.png"></p>
<div class="highlight"><pre><span></span><span class="n">corpus</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="n">Corpus</span><span class="p">(</span><span class="mi">2</span> <span class="n">docs</span><span class="p">,</span> <span class="mi">180955</span> <span class="n">tokens</span><span class="p">)</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="n">corpus</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">corpus2</span><span class="p">)</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="n">corpus</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="n">Corpus</span><span class="p">(</span><span class="mi">4</span> <span class="n">docs</span><span class="p">,</span> <span class="mi">364082</span> <span class="n">tokens</span><span class="p">)</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="k">del</span> <span class="n">corpus</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="n">corpus</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="n">Corpus</span><span class="p">(</span><span class="mi">3</span> <span class="n">docs</span><span class="p">,</span> <span class="mi">286544</span> <span class="n">tokens</span><span class="p">)</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="n">corpus</span><span class="o">.</span><span class="n">n_docs</span><span class="p">,</span> <span class="n">corpus</span><span class="o">.</span><span class="n">n_sents</span><span class="p">,</span> <span class="n">corpus</span><span class="o">.</span><span class="n">n_tokens</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">21829</span><span class="p">,</span> <span class="mi">286544</span><span class="p">)</span>
</pre></div>


<p>As we just saw, textacy allows us to save, concate and edit various corpora, index documents and get counts for components.</p>
<div class="highlight"><pre><span></span><span class="n">corpus3</span> <span class="o">=</span> <span class="n">textacy</span><span class="o">.</span><span class="n">Corpus</span><span class="p">(</span><span class="s1">&#39;en&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">oxford</span><span class="o">.</span><span class="n">records</span><span class="p">(</span><span class="n">author</span><span class="o">=</span> <span class="s1">&#39;Pearson, Richard&#39;</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="n">corpus3</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="n">Corpus</span><span class="p">(</span><span class="mi">1</span> <span class="n">docs</span><span class="p">,</span> <span class="mi">7483</span> <span class="n">tokens</span><span class="p">)</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="n">corpus</span><span class="o">.</span><span class="n">add_docs</span><span class="p">(</span><span class="n">corpus3</span><span class="p">)</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="n">corpus</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="n">Corpus</span><span class="p">(</span><span class="mi">4</span> <span class="n">docs</span><span class="p">,</span> <span class="mi">294027</span> <span class="n">tokens</span><span class="p">)</span>
</pre></div>


<p>We can also get a total count the tokens in our corpus. The function gives us options as well to filter and process our tokens.</p>
<div class="highlight"><pre><span></span><span class="n">w_count</span> <span class="o">=</span> <span class="n">corpus</span><span class="o">.</span><span class="n">word_counts</span><span class="p">(</span>
    <span class="n">normalize</span><span class="o">=</span><span class="s1">&#39;lemma&#39;</span><span class="p">,</span> <span class="n">weighting</span><span class="o">=</span><span class="s1">&#39;count&#39;</span><span class="p">,</span> <span class="n">as_strings</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">filter_stops</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">filter_punct</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">filter_nums</span><span class="o">=</span><span class="bp">True</span>
<span class="p">)</span>
</pre></div>


<p>And will just order the w_count dictionary based on the word counts.</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">operator</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="n">w_count</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">w_count</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span> <span class="n">key</span><span class="o">=</span><span class="n">operator</span><span class="o">.</span><span class="n">itemgetter</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">reverse</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="n">w_count</span><span class="p">[:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="p">[(</span><span class="s1">&#39;-PRON-&#39;</span><span class="p">,</span> <span class="mi">24918</span><span class="p">),</span>
 <span class="p">(</span><span class="s1">&#39;man&#39;</span><span class="p">,</span> <span class="mi">732</span><span class="p">),</span>
 <span class="p">(</span><span class="s1">&#39;’s&#39;</span><span class="p">,</span> <span class="mi">675</span><span class="p">),</span>
 <span class="p">(</span><span class="s1">&#39;like&#39;</span><span class="p">,</span> <span class="mi">635</span><span class="p">),</span>
 <span class="p">(</span><span class="s1">&#39;know&#39;</span><span class="p">,</span> <span class="mi">598</span><span class="p">),</span>
 <span class="p">(</span><span class="s1">&#39;come&#39;</span><span class="p">,</span> <span class="mi">583</span><span class="p">),</span>
 <span class="p">(</span><span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="mi">545</span><span class="p">),</span>
 <span class="p">(</span><span class="s1">&#39;day&#39;</span><span class="p">,</span> <span class="mi">496</span><span class="p">),</span>
 <span class="p">(</span><span class="s1">&#39;stalky&#39;</span><span class="p">,</span> <span class="mi">444</span><span class="p">),</span>
 <span class="p">(</span><span class="s1">&#39;look&#39;</span><span class="p">,</span> <span class="mi">432</span><span class="p">)]</span>
</pre></div>


<p>Finally, we will save our corpus and load it again to check that everything is working well.</p>
<div class="highlight"><pre><span></span><span class="n">corpus</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s2">&quot;~/desktop/oxford.bin.gz&quot;</span><span class="p">)</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">textacy</span><span class="o">.</span><span class="n">Corpus</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;en&quot;</span><span class="p">,</span> <span class="s2">&quot;~/desktop/oxford.bin.gz&quot;</span><span class="p">)</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="n">t</span><span class="p">[</span><span class="mi">1</span><span class="p">][:</span><span class="mi">50</span><span class="p">]</span>
</pre></div>


<div class="highlight"><pre><span></span>‘<span class="nv">Let</span> <span class="nv">us</span> <span class="nv">now</span> <span class="nv">praise</span> <span class="nv">famous</span> <span class="nv">men</span>’—
<span class="nv">Men</span> <span class="nv">of</span> <span class="nv">little</span> <span class="nv">showing</span>—
<span class="k">For</span> <span class="nv">their</span> <span class="nv">work</span> <span class="nv">continueth</span>,
<span class="nv">And</span> <span class="nv">their</span> <span class="nv">work</span> <span class="nv">continueth</span>,
<span class="nv">Greater</span> <span class="nv">than</span> <span class="nv">their</span> <span class="nv">knowing</span>.
<span class="nv">Western</span> <span class="nv">wind</span> <span class="nv">and</span> <span class="nv">open</span> <span class="nv">surge</span>
<span class="nv">Tore</span> <span class="nv">us</span> <span class="nv">from</span> <span class="nv">our</span> <span class="nv">mothers</span><span class="c1">;</span>
<span class="nv">Flung</span> <span class="nv">us</span> <span class="nv">on</span> <span class="nv">a</span> <span class="nv">naked</span> <span class="nv">shore</span>
</pre></div>


<p>That was a light intro to textacy and some of what can be done with it. I will try to do more in-depth work with a clear objective, rather than just exploring, in a future post.</p>
<p><img src="images/chatbot.jpg" alt="Drawing" style="width: 250px;"/></p>
            </section>

            <section class="post-info">
                <div class="post-share">
                    <a class="twitter" href="https://twitter.com/share?text=Toying with Textacy&amp;url=https://zekry.github.io/blog/blog-5.html" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    <i class="ic ic-twitter"></i><span class="hidden">Twitter</span>
                    </a>
                    <a class="facebook" href="https://www.facebook.com/sharer/sharer.php?u=https://zekry.github.io/blog/blog-5.html" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                    <i class="ic ic-facebook"></i><span class="hidden">Facebook</span>
                    </a>
                    <a class="googleplus" href="https://plus.google.com/share?url=https://zekry.github.io/blog/blog-5.html" onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                    <i class="ic ic-googleplus"></i><span class="hidden">Google+</span>
                    </a>
                    <div class="clear"></div>
                </div>

                <aside class="post-tags">
<a href="https://zekry.github.io/blog/tag/python.html">python</a><a href="https://zekry.github.io/blog/tag/nlp.html">NLP</a>                </aside>

                <div class="clear"></div>


                </section>


                <aside class="post-nav">
                    <div class="clear"></div>
                </aside>

            </div>
        </article>
    </main>
      <!-- TODO : Body class -->
    <div id="body-class" style="display: none;" class=""></div>

    <footer id="footer">
      <div class="inner">
        <section class="credits">


          <span class="credits-theme">Theme <a href="https://github.com/arulrajnet/attila" rel="nofollow">Attila</a></span>
          <span class="credits-software">Published with <a href="https://github.com/getpelican/pelican" rel="nofollow">Pelican</a></span>
        </section>
      </div>
    </footer>
  </section>

  <script type="text/javascript" src="https://zekry.github.io/blog/theme/js/script.js"></script>

</body>
</html>